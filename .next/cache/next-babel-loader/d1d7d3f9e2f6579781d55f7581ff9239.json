{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { PureComponent } from 'react';\nimport { Consumer as ModalConsumer } from '../../../doit-ui/Modal/context';\nimport Form from '../../../doit-ui/Form';\nimport Spacing from '../../../doit-ui/Spacing';\nimport Text from '../../../doit-ui/Text';\nimport Input from '../../../doit-ui/Input';\nimport InlineList from '../../../doit-ui/InlineList';\nimport Button from '../../../doit-ui/Button';\nimport moment from 'moment';\n\nclass TradeCoinPage extends PureComponent {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"handleSubmit\", (values, closeModal) => {\n      const {\n        name,\n        code,\n        createTransaction,\n        requestTransactionList\n      } = this.props;\n      const {\n        amount,\n        currentPrice\n      } = values;\n      const formValues = {\n        code,\n        name,\n        totalPrice: parseInt(currentPrice) * amount,\n        currentPrice: parseInt(currentPrice),\n        dateTime: moment().format('YYYY/MM/DD HH:mm:ss')\n      };\n      createTransaction(formValues, closeModal, requestTransactionList);\n    });\n  }\n\n  render() {\n    const {\n      name,\n      price,\n      type,\n      loading\n    } = this.props;\n    const typeName = type === 'sell' ? '판매' : '구매';\n    return __jsx(ModalConsumer, null, ({\n      closeModal\n    }) => __jsx(Form, {\n      onSubmit: values => this.handleSubmit(values, closeModal),\n      initValues: {\n        currentPrice: price\n      }\n    }, __jsx(Form.Consumer, null, ({\n      onChange,\n      values\n    }) => __jsx(Spacing, {\n      horizontal: 4,\n      vertical: 8\n    }, __jsx(Text, {\n      xlarge: true,\n      bold: true\n    }, name, \" \", typeName), __jsx(Spacing, {\n      bottom: 2\n    }, __jsx(Input, {\n      name: \"currentPrice\",\n      label: \"\\uAE08\\uC561\",\n      value: values['currentPrice'],\n      onChange: onChange\n    })), __jsx(Spacing, {\n      bottom: 2\n    }, __jsx(Input, {\n      name: \"amount\",\n      label: \"\\uC218\\uB7C9\",\n      value: values['amount'],\n      onChange: onChange\n    })), __jsx(InlineList, {\n      spacingBetween: 1\n    }, __jsx(Button, {\n      primary: true,\n      disabled: loading\n    }, loading ? '거래 처리중' : typeName), __jsx(Button, {\n      onPress: closeModal,\n      disabled: loading\n    }, \"\\uCDE8\\uC18C\"))))));\n  }\n\n}\n\nexport default TradeCoinPage;","map":null,"metadata":{},"sourceType":"module"}